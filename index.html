<!DOCTYPE html>
<html lang="es">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Gabrielgsd</title>

    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Comic+Neue:wght@400;700&display=swap" rel="stylesheet" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css" />
    <script type="module" src="https://unpkg.com/@splinetool/viewer@1.9.5/build/spline-viewer.js"></script>

    <style>
      ::-webkit-scrollbar {
        width: 12px;
        background-color: #f0f0f0;
      }

      ::-webkit-scrollbar-thumb {
        background-color: #4a90e2;
        border-radius: 10px;
        border: 2px solid #f0f0f0;
      }

      ::-webkit-scrollbar-thumb:hover {
        background-color: #357abd;
      }

      ::-webkit-scrollbar-track {
        background-color: #e0e0e0;
        border-radius: 10px;
      }

      body,
      html {
        font-family: "Comic Neue", cursive, sans-serif;
        margin: 0;
        padding: 0;
        height: 100%;
        overflow-y: auto;
      }

      .fa-ko-fi::before {
        content: "\f0f4";
        display: inline-block;
        font-size: 1.1em;
        line-height: 0.45em;
        margin: -0.45em 0 0 -0.2em;
        overflow-y: hidden;
        padding-top: 0.45em;
      }

      .fa-ko-fi::after {
        color: #000;
        content: "\f004";
        font-size: 50%;
        font-weight: 900;
        margin: 0.5em 0 0 -2em;
        position: absolute;
      }
    </style>
  </head>

  <body class="bg-gray-200 flex flex-col min-h-screen">
    <header class="bg-blue-400 text-white flex justify-between items-center p-4 relative z-10">
      <div class="flex items-center space-x-4">
        <button id="menu-toggle" class="focus:outline-none">
          <i id="menu-icon" class="fas fa-bars"></i>
        </button>
        <span class="text-xl">Gabrielgsd</span>
      </div>
      <div class="flex space-x-4">
        <a href="https://github.com/GabrielgsdCIUwU" target="_blank" class="text-white hover:text-gray-300">
          <i class="fab fa-github"></i>
        </a>
        <a href="https://www.twitch.tv/gabrielgsd_ci" target="_blank" class="text-white hover:text-gray-300">
          <i class="fab fa-twitch"></i>
        </a>
        <a href="https://www.youtube.com/@gabrielgsd" target="_blank" class="text-white hover:text-gray-300">
          <i class="fab fa-youtube"></i>
        </a>
        <a href="https://ko-fi.com/gabrielgsd" target="_blank" class="text-white hover:text-gray-300 relative">
          <i class="fas fa-ko-fi"></i>
        </a>
      </div>
    </header>

    <div class="flex-1 flex flex-col overflow-y-auto">
      <nav
        id="sidebar"
        class="bg-blue-400 text-white w-48 h-full fixed transform -translate-x-full transition-transform duration-300 z-20">
        <ul class="space-y-2 mt-4 p-4">
          <li class="text-xl font-bold text-white mb-4">Menú</li>
          <li class="menu-item text-center">
            <a href="#" class="block p-4 text-white hover:bg-blue-600 hover:text-white transition-colors duration-300"
              >About Me</a
            >
          </li>
          <li class="menu-item text-center">
            <a
              href="#projects-section"
              class="block p-4 text-white hover:bg-blue-600 hover:text-white transition-colors duration-300"
              >Proyectos</a
            >
          </li>
          <li class="menu-item text-center">
            <a href="#" class="block p-4 text-white hover:bg-blue-600 hover:text-white transition-colors duration-300"
              >Opiniones</a
            >
          </li>
          <li class="menu-item text-center">
            <a href="#" class="block p-4 text-white hover:bg-blue-600 hover:text-white transition-colors duration-300"
              >Contacto</a
            >
          </li>
        </ul>
      </nav>

      <main id="main-content" class="flex-1 flex flex-col relative transition-all duration-300 ml-0">
        <section id="spline-section" class="w-full h-screen">
          <script type="module" src="https://unpkg.com/@splinetool/viewer@1.9.5/build/spline-viewer.js"></script>
          <spline-viewer url="https://prod.spline.design/7W4P3fHeuiIc0No0/scene.splinecode"></spline-viewer>
        </section>

        <div class="block w-full h-10 bg-blue-400"></div>

        <section id="about-me" class="w-full bg-gray-100 p-8 mt-0 text-center rounded-lg shadow-lg">
          <h2 class="text-3xl font-extrabold text-gray-800 mb-4">Sobre Mí</h2>
          <p class="text-lg text-gray-600 mb-8">
            Soy Gabrielgsd, un programador, editor de avatares y creador de mundos de VRChat.
          </p>
          <div class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-8">
            <div class="bg-white p-6 rounded-lg shadow hover:shadow-xl transition-shadow duration-300">
              <h3 class="text-2xl font-bold text-gray-700 mb-4">Mis conocimientos</h3>
              <p class="text-gray-500">
                Actualmente trabajo con: <br />
                Unity, Blender, NodeJS, Adobe After Effects, Filmora y GIMP
              </p>
            </div>
            <div class="bg-white p-6 rounded-lg shadow hover:shadow-xl transition-shadow duration-300">
              <h3 class="text-2xl font-bold text-gray-700 mb-4">Mi Misión</h3>
              <p class="text-gray-500">
                Mi misión es crear experiencias digitales innovadoras que faciliten el aprendizaje, la creatividad y la
                conexión entre las personas, mientras promuevo la cultura y el entretenimiento en comunidades globales.
              </p>
            </div>
            <div class="bg-white p-6 rounded-lg shadow hover:shadow-xl transition-shadow duration-300">
              <h3 class="text-2xl font-bold text-gray-700 mb-4">Mis Valores</h3>
              <p class="text-gray-500">
                Creo en la innovación, la atención al detalle, y la creación de experiencias únicas que educan, inspiran
                y conectan, mientras promuevo la cultura en comunidades globales.
              </p>
            </div>
          </div>
        </section>

        <div class="block w-full h-10 bg-blue-400"></div>

        <section id="projects-section" class="w-full bg-gray-100 p-8 mt-0 text-center rounded-lg shadow-lg">
          <h2 class="text-3xl font-extrabold text-gray-800 mb-4">Proyectos Destacados</h2>
          <p class="text-lg text-gray-600 mb-8">Explora algunos de los proyectos más destacados que he desarrollado.</p>
          <div id="projects-container" class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-8"></div>
        </section>
        <footer class="bg-blue-400 text-white p-4 flex justify-between items-center">
          <div class="text-lg font-bold">© <span id="current-year"></span> Gabrielgsd</div>
          <div class="space-x-4">
            <a href="https://github.com/GabrielgsdCIUwU" target="_blank" class="text-white hover:text-gray-300">
              <i class="fab fa-github"></i>
            </a>
            <a href="https://www.twitch.tv/gabrielgsd_ci" target="_blank" class="text-white hover:text-gray-300">
              <i class="fab fa-twitch"></i>
            </a>
            <a href="https://www.youtube.com/@gabrielgsd" target="_blank" class="text-white hover:text-gray-300">
              <i class="fab fa-youtube"></i>
            </a>
            <a href="https://ko-fi.com/gabrielgsd" target="_blank" class="text-white hover:text-gray-300 relative">
              <i class="fas fa-ko-fi"></i>
            </a>
          </div>
        </footer>

        <script>
          document.getElementById("current-year").textContent = new Date().getFullYear();
        </script>
      </main>
    </div>

    <script>
      function detectGraphicsCard() {
        let canvas = document.createElement("canvas");
        let gl = canvas.getContext("webgl") || canvas.getContext("experimental-webgl");

        if (gl) {
          let debugInfo = gl.getExtension("WEBGL_debug_renderer_info");
          let renderer = gl.getParameter(debugInfo.UNMASKED_RENDERER_WEBGL);
          let vendor = gl.getParameter(debugInfo.UNMASKED_VENDOR_WEBGL);

          console.log("Renderer:", renderer);
          console.log("Vendor:", vendor);

          if (renderer.toLowerCase().includes("intel arc")) {
            return "dedicated";
          } else if (renderer.toLowerCase().includes("intel")) {
            return "integrated";
          } else if (renderer.toLowerCase().includes("nvidia")) {
            return "dedicated";
          } else if (renderer.toLowerCase().includes("amd") || renderer.toLowerCase().includes("radeon")) {
            if (renderer.toLowerCase().includes("rx") || renderer.toLowerCase().includes("pro")) {
              return "dedicated";
            } else if (renderer.toLowerCase().includes("vega") || renderer.toLowerCase().includes("graphics")) {
              return "integrated";
            } else {
              return "unknown";
            }
          } else {
            return "unknown";
          }
        } else {
          return "no_webgl";
        }
      }

      function handleSplineFallback() {
        const splineSection = document.getElementById("spline-section");

        const deviceMemory = navigator.deviceMemory || 4;
        const cpuCores = navigator.hardwareConcurrency || 4;
        const graphicsCardType = detectGraphicsCard();

        if (
          window.innerWidth < 768 ||
          deviceMemory < 4 ||
          cpuCores < 4 ||
          graphicsCardType === "integrated" ||
          graphicsCardType === "unknown" ||
          graphicsCardType === "no_webgl"
        ) {
          splineSection.innerHTML = `
        <div class="w-full h-screen flex items-center justify-center bg-gray-200">
            <video autoplay muted loop class="w-full h-full object-cover">
                <source src="./resources/video/Rusky-Web-Mobile.mp4" type="video/mp4">
                Tu navegador no soporta la reproducción de videos.
            </video>
        </div>
        `;
        } else {
          splineSection.innerHTML = `
        <spline-viewer url="https://prod.spline.design/7W4P3fHeuiIc0No0/scene.splinecode"></spline-viewer>`;
        }
      }

      window.addEventListener("resize", handleSplineFallback);
      window.addEventListener("DOMContentLoaded", handleSplineFallback);

      async function cargarProyectos() {
        try {
          const response = await fetch("./resources/json/proyectos.json");
          const proyectos = await response.json();
          const projectsContainer = document.getElementById("projects-container");

          proyectos.forEach((proyecto) => {
            const projectLink = document.createElement("a");
            projectLink.href = proyecto.link || "#";
            projectLink.classList.add(
              "block",
              "bg-white",
              "p-6",
              "rounded-lg",
              "shadow",
              "hover:shadow-xl",
              "transition-shadow",
              "duration-300"
            );

            projectLink.innerHTML = `
        <div class="w-full h-48 bg-gray-200 rounded-lg flex items-center justify-center overflow-hidden">
          <img src="${proyecto.image}" alt="${proyecto.alt}" class="object-cover w-full h-full" />
        </div>
        <h3 class="text-2xl font-bold mt-6 text-gray-700">${proyecto.title}</h3>
        <p class="text-gray-500 mt-2">${proyecto.description}</p>
        <p class="text-gray-500 mt-2">${proyecto.date}</p>
      `;

            projectsContainer.appendChild(projectLink);
          });
        } catch (error) {
          console.error("Error al cargar los proyectos:", error);
        }
      }

      window.addEventListener("DOMContentLoaded", cargarProyectos);

      const menuToggle = document.getElementById("menu-toggle");
      const sidebar = document.getElementById("sidebar");
      const mainContent = document.getElementById("main-content");
      const menuIcon = document.getElementById("menu-icon");

      function adjustMainContentMargin() {
        if (sidebar.classList.contains("-translate-x-full")) {
          mainContent.style.marginLeft = "0";
        } else {
          const sidebarWidth = sidebar.offsetWidth;
          mainContent.style.marginLeft = `${sidebarWidth}px`;
        }
      }

      menuToggle.addEventListener("click", () => {
        sidebar.classList.toggle("-translate-x-full");
        adjustMainContentMargin();
        menuIcon.classList.toggle("fa-bars");
        menuIcon.classList.toggle("fa-times");
      });

      window.addEventListener("resize", adjustMainContentMargin);
      adjustMainContentMargin();
    </script>
  </body>
</html>
